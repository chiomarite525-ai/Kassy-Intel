
        async function pollStatus(id) {
            const status = document.getElementById('status');
            const check = setInterval(async () => {
                status.innerText = "RENDERING VIDEO... ESTIMATED 60S";
                const res = await fetch(`https://api.novita.ai/v3/async/task-result?task_id=${id}`, {
                    headers: { "Authorization": `Bearer ${API_KEY}` }
                });
                const d = await res.json();
                
                // Success check
                if(d.task && d.task.status === "TASK_STATUS_SUCCEED") {
                    clearInterval(check);
                    document.getElementById('output').src = d.videos[0].video_url;
                    document.getElementById('output').style.display = "block";
                    status.innerText = "DECRYPTION COMPLETE.";
                } else if (d.task && d.task.status === "TASK_STATUS_FAILED") {
                    clearInterval(check);
                    status.innerText = "RENDER FAILED: " + d.task.reason;
                }
            }, 5000);
        }
    </script>
</body>
</html>
